<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>COE301 LAB NOTES</title>
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="solarized-dark.min.css" />
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">COE301 LAB NOTES</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org8360e4f">Resources</a></li>
<li><a href="#orgdbb877b">MIPS assembly</a>
<ul>
<li><a href="#orgc0d9700">Introduction</a>
<ul>
<li><a href="#org99963ae">Mars simulator Setup</a></li>
<li><a href="#orgaf7c50c">Hello, World</a></li>
<li><a href="#orge03df5b">More about MIPS assembly</a></li>
<li><a href="#org53faaf4">Basic Syscalls</a></li>
<li><a href="#org9952cf1">Registers</a></li>
</ul>
</li>
<li><a href="#org39fea7c">instructions</a></li>
<li><a href="#org498f472">Labs</a>
<ul>
<li><a href="#org86acbbe">LAB 3</a></li>
<li><a href="#orge48914f">LAB 4</a></li>
</ul>
</li>
<li><a href="#orgfd1ee48">Useful Macros</a></li>
</ul>
</li>
</ul>
</div>
</div>
<blockquote>
<ul class="org-ul">
<li>I recommend viewing this website on a non mobile device</li>
<li>Github repositary of this document <a href="https://github.com/Airbus5717/coe301">repo</a> which contains Term221 resources too</li>
<li>If you find any issue, report it here <a href="https://github.com/Airbus5717/coe301/issues">report issue</a></li>
</ul>
</blockquote>

<div id="outline-container-org8360e4f" class="outline-2">
<h2 id="org8360e4f">Resources</h2>
<div class="outline-text-2" id="text-org8360e4f">
<ul class="org-ul">
<li>Dr. Mudawar resources <a href="https://faculty.kfupm.edu.sa/coe/mudawar/coe301/lectures/index.htm">slides, examples etc.</a></li>
<li>MIPS syscalls <a href="https://courses.missouristate.edu/kenvollmar/mars/help/syscallhelp.html">link</a></li>
<li>Mars mips simulator <a href="https://courses.missouristate.edu/KenVollmar/mars/download.htm">link</a></li>
<li>Dr. Mudawwar&rsquo;s videos <a href="https://youtube.com/playlist?list=PLeurb_BIjrxjSmBhm_h3TkN8pWxM_1ViU">link</a></li>
<li>MIPS assembly reference <a href="https://uweb.engr.arizona.edu/~ece369/Resources/spim/MIPSReference.pdf">arizona uni</a></li>
<li>Mips assembly videos <a href="https://www.youtube.com/playlist?list=PL1C2GgOjAF-KYdV5bH-xzoybEHreDZ3Kh">Padraic Edgington</a></li>
<li>Mips assembly videos <a href="https://www.youtube.com/playlist?list=PL5b07qlmA3P6zUdDf-o97ddfpvPFuNa5A">Amell Peralta</a></li>
<li>Mips assembly Slides from oregon state uni <a href="https://web.engr.oregonstate.edu/~walkiner/cs271-wi13/slides/">class 2013</a></li>
<li>MIPS online editor/simulator <a href="https://cpulator.01xz.net/?sys=mipsr5-spim">CPULATOR</a></li>
<li>MIPS Manual I <a href="https://faculty.kfupm.edu.sa/coe/mudawar/coe301/tools_manuals/MIPS32Vol1.Architecture.pdf">MANUAL I</a></li>
<li>MIPS Manual II <a href="https://faculty.kfupm.edu.sa/coe/mudawar/coe301/tools_manuals/MIPS32Vol2.InstructionSet.pdf">MANUAL II</a></li>
</ul>
<hr />
</div>
</div>

<div id="outline-container-orgdbb877b" class="outline-2">
<h2 id="orgdbb877b">MIPS assembly</h2>
<div class="outline-text-2" id="text-orgdbb877b">
</div>
<div id="outline-container-orgc0d9700" class="outline-3">
<h3 id="orgc0d9700">Introduction</h3>
<div class="outline-text-3" id="text-orgc0d9700">
</div>
<div id="outline-container-org99963ae" class="outline-4">
<h4 id="org99963ae">Mars simulator Setup</h4>
<div class="outline-text-4" id="text-org99963ae">
<ol class="org-ol">
<li>File (or Ctrl-N) -&gt; New File</li>
<li>Copy paste the code below</li>
<li>Save the file (or Ctrl-S)</li>
<li>Run (or F3) -&gt; Assemble</li>
<li>If assembling was successful then continue</li>
<li>Go (or F5) to run the whole program at once</li>
</ol>
</div>
</div>


<div id="outline-container-orgaf7c50c" class="outline-4">
<h4 id="orgaf7c50c">Hello, World</h4>
<div class="outline-text-4" id="text-orgaf7c50c">
<div class="org-src-container">
<pre class="src src-mips"><span style="color: #928374;"># </span><span style="color: #b8bb26; font-weight: bold;">NOTE:</span><span style="color: #928374;"> Hello, World in assembly</span>
<span style="color: #ebdbb2; font-weight: bold;">.globl</span> main

<span style="color: #928374;"># </span><span style="color: #928374;">data segment (global variables)</span>
<span style="color: #ebdbb2; font-weight: bold;">.data</span>
<span style="color: #b8bb26;">msg:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Hello, World\n"</span>
    <span style="color: #928374;"># </span><span style="color: #928374;">asciiz includes the null terminator (\0) in string</span>

<span style="color: #928374;"># </span><span style="color: #928374;">code segment</span>
<span style="color: #ebdbb2; font-weight: bold;">.text</span>
<span style="color: #b8bb26;">main:</span>
    <span style="color: #928374;"># </span><span style="color: #928374;">print string msg</span>
    <span style="color: #928374;"># </span><span style="color: #928374;">4 is the syscall number for print string</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> msg <span style="color: #928374;"># </span><span style="color: #928374;">loads address of msg to $a0</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>   <span style="color: #928374;"># </span><span style="color: #928374;">loads immediate (4) to $v0</span>
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">exit</span>
    <span style="color: #928374;"># </span><span style="color: #928374;">exit syscall is 10</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">10</span> 
    <span style="color: #fb4934;">syscall</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge03df5b" class="outline-4">
<h4 id="orge03df5b">More about MIPS assembly</h4>
<div class="outline-text-4" id="text-orge03df5b">
<p>
MIPS assembly was introduced in 1986 and there are different versions (I, I, &#x2026;, MIPS32, MIPS64).
</p>
</div>
</div>

<div id="outline-container-org53faaf4" class="outline-4">
<h4 id="org53faaf4">Basic Syscalls</h4>
<div class="outline-text-4" id="text-org53faaf4">
<p>
Full reference MIPS syscalls <a href="https://courses.missouristate.edu/kenvollmar/mars/help/syscallhelp.html">link</a>
</p>
</div>
</div>

<div id="outline-container-org9952cf1" class="outline-4">
<h4 id="org9952cf1">Registers</h4>
<div class="outline-text-4" id="text-org9952cf1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Register</td>
<td class="org-left">Number</td>
<td class="org-left">Usage</td>
<td class="org-left">Avoid</td>
</tr>

<tr>
<td class="org-left">$zero</td>
<td class="org-left">$0</td>
<td class="org-left">Always zero</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$at</td>
<td class="org-left">$1</td>
<td class="org-left">Assembler temporary register</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$v0-$v1</td>
<td class="org-left">$2-$3</td>
<td class="org-left">functions results</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$a0-$a3</td>
<td class="org-left">$4-$7</td>
<td class="org-left">function arguments</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$t0-$t7</td>
<td class="org-left">$8-$15</td>
<td class="org-left">for storing temp. values</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$s0-$s7</td>
<td class="org-left">$16-$23</td>
<td class="org-left">storing across function calls</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$t8-$t9</td>
<td class="org-left">$24-$25</td>
<td class="org-left">for storing more temp. values</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$k0-$k1</td>
<td class="org-left">$26-$27</td>
<td class="org-left">for kernel os use</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$gp</td>
<td class="org-left">$28</td>
<td class="org-left">global (data) pointer register</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$sp</td>
<td class="org-left">$29</td>
<td class="org-left">stack pointer (points to the top)</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$fp</td>
<td class="org-left">$30</td>
<td class="org-left">frame pointer (points to stack frame)</td>
<td class="org-left">true</td>
</tr>

<tr>
<td class="org-left">$ra</td>
<td class="org-left">$31</td>
<td class="org-left">return address (return from fn call)</td>
<td class="org-left">true</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org39fea7c" class="outline-3">
<h3 id="org39fea7c">instructions</h3>
<div class="outline-text-3" id="text-org39fea7c">
<p>
<a href="https://www.dsi.unive.it/~gasparetto/materials/MIPS_Instruction_Set.pdf">SIMPLER REF SHEET</a>
<a href="https://uweb.engr.arizona.edu/~ece369/Resources/spim/MIPSReference.pdf">MIPS REFERENCE SHEET</a>
</p>
</div>
</div>

<div id="outline-container-org498f472" class="outline-3">
<h3 id="org498f472">Labs</h3>
<div class="outline-text-3" id="text-org498f472">
<p>
If you find any errors please submit a pull request
</p>
</div>
<div id="outline-container-org86acbbe" class="outline-4">
<h4 id="org86acbbe">LAB 3</h4>
<div class="outline-text-4" id="text-org86acbbe">
</div>
<ul class="org-ul">
<li><a id="orgaa503a8"></a>Task1<br />
<div class="outline-text-5" id="text-orgaa503a8">
<div class="org-src-container">
<pre class="src src-mips"><span style="color: #928374;"># </span><span style="color: #928374;">task1</span>
<span style="color: #928374;"># </span><span style="color: #928374;">get integer input </span>
<span style="color: #928374;"># </span><span style="color: #928374;">multiply with 53.125 </span>
<span style="color: #928374;"># </span><span style="color: #928374;">print result</span>

<span style="color: #ebdbb2; font-weight: bold;">.globl</span> main

<span style="color: #ebdbb2; font-weight: bold;">.data</span>
<span style="color: #b8bb26;">msg1:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Enter x: "</span>
<span style="color: #b8bb26;">msg2:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"y = "</span>

<span style="color: #ebdbb2; font-weight: bold;">.text</span>
<span style="color: #b8bb26;">main:</span> 
    <span style="color: #928374;"># </span><span style="color: #928374;">print string input prompt</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> msg1
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">read integer to $t0</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">5</span>
    <span style="color: #fb4934;">syscall</span>
    <span style="color: #83a598;">move</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$v0</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">.125 = x/8 = x &gt;&gt; 3</span>
    <span style="color: #fb4934;">sra</span> <span style="color: #fabd2f;">$t1</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">3</span> 
    

    <span style="color: #928374;"># </span><span style="color: #928374;">53 = 32 + 16 + 4 + 1  </span>
    <span style="color: #fb4934;">sll</span> <span style="color: #fabd2f;">$t2</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">5</span> <span style="color: #928374;"># </span><span style="color: #928374;">32x </span>
    <span style="color: #fb4934;">sll</span> <span style="color: #fabd2f;">$t3</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span> <span style="color: #928374;"># </span><span style="color: #928374;">16x </span>
    <span style="color: #fb4934;">sll</span> <span style="color: #fabd2f;">$t4</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">2</span> <span style="color: #928374;"># </span><span style="color: #928374;">4x</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">add results to $t0</span>
    <span style="color: #fb4934;">add</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t1</span> <span style="color: #928374;"># </span><span style="color: #928374;">adds the 1x + .125x</span>
    <span style="color: #fb4934;">add</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t2</span> <span style="color: #928374;"># </span><span style="color: #928374;">+= 32x</span>
    <span style="color: #fb4934;">add</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t3</span> <span style="color: #928374;"># </span><span style="color: #928374;">+= 16x</span>
    <span style="color: #fb4934;">add</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t4</span> <span style="color: #928374;"># </span><span style="color: #928374;">+= 4x</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">print string output prompt</span>
    <span style="color: #83a598;">li</span>  <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> msg2
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">print result (result is already in $a0)</span>
    <span style="color: #83a598;">move</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">1</span>
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">exit</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">10</span>
    <span style="color: #fb4934;">syscall</span>
</pre>
</div>
</div>
</li>

<li><a id="orgf574f4f"></a>Task2<br />
<div class="outline-text-5" id="text-orgf574f4f">
<div class="org-src-container">
<pre class="src src-mips"><span style="color: #928374;"># </span><span style="color: #928374;">task2 </span>
<span style="color: #928374;"># </span><span style="color: #928374;">get an integer input </span>
<span style="color: #928374;"># </span><span style="color: #928374;">set bit 11 and 17 to 1 </span>
<span style="color: #928374;"># </span><span style="color: #928374;">print the result integer</span>

<span style="color: #ebdbb2; font-weight: bold;">.globl</span> main

<span style="color: #ebdbb2; font-weight: bold;">.data</span>
<span style="color: #b8bb26;">msg1:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Enter a: "</span>
<span style="color: #b8bb26;">msg2:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Result = "</span>

<span style="color: #ebdbb2; font-weight: bold;">.text</span>
<span style="color: #b8bb26;">main:</span> 
    <span style="color: #928374;"># </span><span style="color: #928374;">print string input prompt</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> msg1
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">read integer to $t0</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">5</span>
    <span style="color: #fb4934;">syscall</span>
    <span style="color: #83a598;">move</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$v0</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">set bit 11 and 17 to 1</span>
    <span style="color: #928374;"># </span><span style="color: #928374;">by ORing with a zeroed number except the</span>
    <span style="color: #928374;"># </span><span style="color: #928374;">bit locations</span>
    <span style="color: #fb4934;">ori</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">133120</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">print string output prompt</span>
    <span style="color: #83a598;">li</span>  <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> msg2
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">print result (result is already in $a0)</span>
    <span style="color: #83a598;">move</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$t0</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">1</span>
    <span style="color: #fb4934;">syscall</span>

    <span style="color: #928374;"># </span><span style="color: #928374;">exit</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">10</span>
    <span style="color: #fb4934;">syscall</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orge48914f" class="outline-4">
<h4 id="orge48914f">LAB 4</h4>
<div class="outline-text-4" id="text-orge48914f">
</div>
<ul class="org-ul">
<li><a id="org36fcdbd"></a>Task1<br />
<div class="outline-text-5" id="text-org36fcdbd">
<div class="org-src-container">
<pre class="src src-mips"><span style="color: #ebdbb2; font-weight: bold;">.globl</span> main

<span style="color: #ebdbb2; font-weight: bold;">.data</span> 
<span style="color: #b8bb26;">msg:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Enter a character: "</span>
<span style="color: #b8bb26;">newline:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"\n"</span>
<span style="color: #b8bb26;">lower:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Lowercase"</span>
<span style="color: #b8bb26;">upper:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Uppercase"</span>
<span style="color: #b8bb26;">digit:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Digit"</span> 
<span style="color: #b8bb26;">special:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> <span style="color: #b8bb26;">"Special Character"</span>


<span style="color: #ebdbb2; font-weight: bold;">.text</span> 
<span style="color: #928374;"># </span><span style="color: #928374;">psuedo code </span>
<span style="color: #928374;"># </span><span style="color: #928374;">if ('a' &lt;= c &amp;&amp; 'z' &gt;= c) return lower;</span>
<span style="color: #928374;"># </span><span style="color: #928374;">if ('A' &lt;= c &amp;&amp; 'Z' &gt;= c) return upper;</span>
<span style="color: #928374;"># </span><span style="color: #928374;">if ('0'&lt;= c &amp;&amp; '9' &gt;= c) return digit; </span>
<span style="color: #928374;"># </span><span style="color: #928374;">return special;</span>

<span style="color: #b8bb26;">main:</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> msg
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span> 
    <span style="color: #fb4934;">syscall</span> 
    
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">12</span>  
    <span style="color: #fb4934;">syscall</span>
    <span style="color: #83a598;">move</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> <span style="color: #fabd2f;">$v0</span> <span style="color: #928374;"># </span><span style="color: #928374;">store </span>
    
    <span style="color: #928374;"># </span><span style="color: #928374;">print newline </span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span> 
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> newline
    <span style="color: #fb4934;">syscall</span>

<span style="color: #928374;"># </span><span style="color: #928374;">c is t0   </span>
<span style="color: #928374;"># </span><span style="color: #928374;">if ('a' &lt;= c &amp;&amp; 'z' &gt;= c) return lower;</span>
    <span style="color: #83a598;">bge</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> 'a'<span style="color: #fe8019;">,</span> lower2
    <span style="color: #fb4934;">j</span> upper1
<span style="color: #b8bb26;">lower2:</span> 
    <span style="color: #83a598;">ble</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> 'z'<span style="color: #fe8019;">,</span> print_lower 
    
<span style="color: #928374;"># </span><span style="color: #928374;">if ('A' &lt;= c &amp;&amp; 'Z' &gt;= c) return upper;</span>
<span style="color: #b8bb26;">upper1:</span> 
    <span style="color: #83a598;">bge</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> 'A'<span style="color: #fe8019;">,</span> upper2
    <span style="color: #fb4934;">j</span> digit1
<span style="color: #b8bb26;">upper2:</span> 
    <span style="color: #83a598;">ble</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> 'Z'<span style="color: #fe8019;">,</span> print_upper 
    
<span style="color: #928374;"># </span><span style="color: #928374;">if ('0'&lt;= c &amp;&amp; '9' &gt;= c) return digit; </span>
<span style="color: #b8bb26;">digit1:</span> 
    <span style="color: #83a598;">bge</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> '<span style="color: #d3869b; font-weight: bold;">0</span>'<span style="color: #fe8019;">,</span> digit2
    <span style="color: #fb4934;">j</span> print_special
<span style="color: #b8bb26;">digit2:</span> 
    <span style="color: #83a598;">ble</span> <span style="color: #fabd2f;">$t0</span><span style="color: #fe8019;">,</span> '<span style="color: #d3869b; font-weight: bold;">9</span>'<span style="color: #fe8019;">,</span> print_digit
<span style="color: #928374;"># </span><span style="color: #928374;">else all are special;</span>
    <span style="color: #fb4934;">j</span> print_special 
    
<span style="color: #928374;"># </span><span style="color: #928374;">load the specific string for output prompt        </span>
<span style="color: #b8bb26;">print_lower:</span> 
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> lower 
    <span style="color: #fb4934;">j</span> done_load
    
<span style="color: #b8bb26;">print_upper:</span> 
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> upper   
    <span style="color: #fb4934;">j</span> done_load
    
<span style="color: #b8bb26;">print_digit:</span> 
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> digit 
    <span style="color: #fb4934;">j</span> done_load

<span style="color: #b8bb26;">print_special:</span> 
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> special 
    <span style="color: #fb4934;">j</span> done_load 
    
<span style="color: #b8bb26;">done_load:</span> 
    <span style="color: #928374;"># </span><span style="color: #928374;">print preloaded string address</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span> 
    <span style="color: #fb4934;">syscall</span>
    
    <span style="color: #928374;"># </span><span style="color: #928374;">exit</span>
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">10</span> 
    <span style="color: #fb4934;">syscall</span> 
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgfd1ee48" class="outline-3">
<h3 id="orgfd1ee48">Useful Macros</h3>
<div class="outline-text-3" id="text-orgfd1ee48">
<p>
use these to develop code faster
</p>
<div class="org-src-container">
<pre class="src src-mips"><span style="color: #928374;"># </span><span style="color: #b8bb26; font-weight: bold;">NOTE:</span><span style="color: #928374;"> useful macros for general development  </span>


<span style="color: #928374;"># </span><span style="color: #928374;">exit program</span>
<span style="color: #928374;"># </span><span style="color: #928374;">no params required</span>
.macro exit() 
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">10</span>
    <span style="color: #fb4934;">syscall</span>
.end_macro

<span style="color: #928374;"># </span><span style="color: #928374;">print strings</span>
<span style="color: #928374;"># </span><span style="color: #928374;">param(s): string address</span>
.macro print_str(%s)
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> %s
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>
    <span style="color: #fb4934;">syscall</span>
.end_macro

<span style="color: #928374;"># </span><span style="color: #928374;">print string literals</span>
<span style="color: #928374;"># </span><span style="color: #928374;">param(s): string literal</span>
.macro print_strlit(%s)
<span style="color: #ebdbb2; font-weight: bold;">.data</span>
<span style="color: #b8bb26;">string_pointer:</span> <span style="color: #ebdbb2; font-weight: bold;">.asciiz</span> %s
<span style="color: #ebdbb2; font-weight: bold;">.text</span>
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> string_pointer
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">4</span>
    <span style="color: #fb4934;">syscall</span>
.end_macro

<span style="color: #928374;"># </span><span style="color: #928374;">print int</span>
<span style="color: #928374;"># </span><span style="color: #928374;">param(d): int register</span>
.macro print_int(%d)
    <span style="color: #83a598;">la</span> <span style="color: #fabd2f;">$a0</span><span style="color: #fe8019;">,</span> %d
    <span style="color: #83a598;">li</span> <span style="color: #fabd2f;">$v0</span><span style="color: #fe8019;">,</span> <span style="color: #d3869b; font-weight: bold;">1</span>
    <span style="color: #fb4934;">syscall</span>
.end_macro

<span style="color: #928374;"># </span><span style="color: #fabd2f; font-weight: bold;">TODO:</span>
<span style="color: #928374;"># </span><span style="color: #928374;">- for loop (maybe?)</span>
</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>